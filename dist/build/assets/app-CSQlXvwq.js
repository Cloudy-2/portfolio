document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(e){e.preventDefault();const n=document.querySelector(this.getAttribute("href"));if(n){n.scrollIntoView({behavior:"smooth",block:"start"});const o=document.querySelector(".nav-menu");o&&o.classList.remove("active")}})});const h=document.querySelector(".navbar");window.addEventListener("scroll",()=>{window.pageYOffset>100?h.classList.add("scrolled"):h.classList.remove("scrolled")});const L=document.querySelectorAll(".section"),b=document.querySelectorAll(".nav-link");window.addEventListener("scroll",()=>{let t="";L.forEach(e=>{const n=e.offsetTop;e.clientHeight,window.pageYOffset>=n-100&&(t=e.getAttribute("id"))}),b.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")===`#${t}`&&e.classList.add("active")})});const p=document.querySelector(".nav-toggle"),w=document.querySelector(".nav-menu");p&&p.addEventListener("click",()=>{w.classList.toggle("active")});const q={threshold:.1,rootMargin:"0px 0px -50px 0px"},A=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&e.target.classList.add("visible")})},q);document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".animate-on-scroll").forEach(e=>A.observe(e))});const S=document.querySelector("#contact-form");S&&S.addEventListener("submit",async function(t){t.preventDefault();const e=new FormData(this),n=this.querySelector('button[type="submit"]'),o=n.textContent,r=Object.fromEntries(e);if(!r.name||!r.email||!r.message){alert("Please fill in all required fields");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)){alert("Please enter a valid email address");return}n.disabled=!0,n.textContent="Sending...";try{const d=await(await fetch("/contact",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify(r)})).json();d.success?(alert(d.message),this.reset()):alert(d.message)}catch(i){alert("Sorry, there was an error sending your message. Please try again later or contact me directly at labininaycloyd5@gmail.com"),console.error("Error:",i)}finally{n.disabled=!1,n.textContent=o}});function x(t,e,n=100){let o=0;t.textContent="";function r(){o<e.length&&(t.textContent+=e.charAt(o),o++,setTimeout(r,n))}r()}document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".typing-effect");if(t){const e=t.getAttribute("data-text");x(t,e)}});window.addEventListener("scroll",()=>{const t=window.pageYOffset;document.querySelectorAll(".parallax").forEach(n=>{const o=n.getAttribute("data-speed")||.5;n.style.transform=`translateY(${t*o}px)`})});function k(){document.querySelectorAll(".skill-progress").forEach(e=>{const n=e.getAttribute("data-progress");e.style.width="0%",setTimeout(()=>{e.style.width=n+"%"},200)})}const E=document.querySelector("#skills");if(E){const t=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting&&(k(),t.unobserve(n.target))})},{threshold:.3});t.observe(E)}document.addEventListener("DOMContentLoaded",()=>{if(!document.querySelector(".carousel-slides"))return;const e=document.querySelectorAll(".carousel-slide"),n=document.querySelector(".carousel-prev"),o=document.querySelector(".carousel-next"),r=document.querySelectorAll(".carousel-dot");let s=0,i;const d=4e3;function f(c){c>=e.length?s=0:c<0?s=e.length-1:s=c,e.forEach((u,y)=>{u.classList.toggle("active",y===s)}),r.forEach((u,y)=>{u.classList.toggle("active",y===s)})}function m(){f(s+1)}function g(){f(s-1)}function l(){i=setInterval(m,d)}function a(){clearInterval(i)}n&&n.addEventListener("click",()=>{g(),a(),l()}),o&&o.addEventListener("click",()=>{m(),a(),l()}),r.forEach((c,u)=>{c.addEventListener("click",()=>{f(u),a(),l()})});const v=document.querySelector(".carousel-container");v&&(v.addEventListener("mouseenter",a),v.addEventListener("mouseleave",l)),f(0),l(),document.addEventListener("keydown",c=>{c.key==="ArrowLeft"?(g(),a(),l()):c.key==="ArrowRight"&&(m(),a(),l())})});
